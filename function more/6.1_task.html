<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //#1_Task. Напишите функцию sumTo(n), которая вычисляет сумму чисел 1 + 2 + ... + n.
        //Сделайте три варианта решения:
        //1.С использованием цикла.
        //2.Через рекурсию, т.к. sumTo(n) = n + sumTo(n-1) for n > 1.
        //3.С использованием формулы арифметической прогрессии.
        //1.
        function sumTo(n) {
            let sum = 0;
            for (let i = 1; i <= n; i++) {
                sum += i;
            }
            return sum;
        }
        console.log(sumTo(100));
        //2.
        function sumTo1(n) {
            if (n == 1) return 1;
            return n + sumTo1(n - 1);
        }
        console.log(sumTo(100));
        //3.
        function sumTo2(n) {
            return n * (n + 1) / 2;
        }
        console.log(sumTo2(100));

        //P.S. Какой вариант решения самый быстрый? Самый медленный? Почему?
        //Ответ: самый быстрый по формуле, так как использует всего три операции для n;
        //P.P.S. Можно ли при помощи рекурсии посчитать sumTo(100000)?
        //Ответ:Некоторые движки поддерживают оптимизацию «хвостового вызова»:
        //  если рекурсивный вызов является самым последним в функции, без каких-либо других вычислений,
        //   то внешней функции не нужно будет возобновлять выполнение и не нужно запоминать контекст его 
        //   выполнения. В итоге требования к памяти снижаются. Но если JavaScript-движок не поддерживает
        //    это (большинство не поддерживают), будет ошибка: максимальный размер стека превышен, 
        // так как обычно существует ограничение на максимальный размер стека.

        //#2_Task_Вычислить факториал.
        //Факториал натурального числа – это число, умноженное на "себя минус один",
        // затем на "себя минус два", и так далее до 1. Факториал n обозначается как n!
        //Определение факториала можно записать как:

        // n! = n * (n - 1) * (n - 2) * ...* 1;

        //Задача – написать функцию factorial(n), которая возвращает n!, используя рекурсию.
        function factorial(n) {
            return (n != 1) ? n * factorial(n - 1) : 1;
        }
        console.log(factorial(5));

        //#3_Task_Числа Фибоначчи.
        //Последовательность чисел Фибоначчи определяется формулой Fn = Fn-1 + Fn-2. 
        //То есть, следующее число получается как сумма двух предыдущих.
        //Первые два числа равны 1, затем 2(1+1), затем 3(1+2), 5(2+3) и так далее: 1, 1, 2, 3, 5, 8, 13, 21....
        //Числа Фибоначчи тесно связаны с золотым сечением и множеством природных явлений вокруг нас.
        //Напишите функцию fib(n) которая возвращает n-е число Фибоначчи.
        function fib(n) {
            return n <= 1 ? n : fib(n - 1) + fib(n - 2);
        }
        console.log(fib(3));
        console.log(fib(7));

        //#4_Task_Вывод односвязного списка.
        //Напишите функцию printList(list), которая выводит элементы списка по одному.
        //Сделайте два варианта решения: используя цикл и через рекурсию.
        let list = {
            value: 1,
            next: {
                value: 2,
                next: {
                    value: 3,
                    next: {
                        value: 4,
                        next: null
                    }
                }
            }
        };
        function printList(list) {
            let tmp = list;
            while (tmp) {
                alert(tmp.value);
                tmp = tmp.next;
            }
        }
        printList(list);

        //2. через рекрусию
        let list1 = {
            value: 1,
            next: {
                value: 2,
                next: {
                    value: 3,
                    next: {
                        value: 4,
                        next: null
                    }
                }
            }
        };

        function printList(list1) {

            alert(list1.value); // выводим текущий элемент

            if (list1.next) {
                printList(list1.next); // делаем то же самое для остальной части списка
            }

        }

        printList(list1);

        //#5_Task_Вывод односвязного списка в обратном порядке
        //Выведите односвязный список из предыдущего задания Вывод односвязного списка в обратном порядке.
        //Сделайте два решения: с использованием цикла и через рекурсию.
        //1. используя рекрусию
        function printReverseList(list) {

            if (list.next) {
                printReverseList(list.next);
            }

            alert(list.value);
        }

        printReverseList(list);

        //2. c использованием цикла
        function printReverseList(list) {

            if (list.next) {
                printReverseList(list.next);
            }

            alert(list.value);
        }

        printReverseList(list);
    </script>
</body>

</html>